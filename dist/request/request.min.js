!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){"use strict";n.r(t),n.d(t,"append",(function(){return i})),n.d(t,"isPojo",(function(){return s})),n.d(t,"merge",(function(){return a})),n.d(t,"filter",(function(){return o})),n.d(t,"defValue",(function(){return c})),n.d(t,"defGet",(function(){return u})),n.d(t,"defGetSet",(function(){return l}));class r{constructor(e,t){this.key=e,this.context=t}get keyDefined(){return this.key in this.context}get hasValue(){return!!this.context[this.key]}get value(){return this.context[this.key]}set value(e){this.context[this.key]=e}set append(e){if(this.hasValue){const t=this.value;t instanceof Array?t.push(e):this.value=[this.value,e]}else this.value=e}remove(){delete this.context[this.key]}static load(e,t,n=!0){let i=e;const s=t.split(".");let a=s.shift().trim();for(;s.length>0;){if(!i[a]){if(!n)return null;i[a]={}}i=i[a],a=s.shift().trim()}return new r(a,i)}}const i=function(e,t,n){if(void 0!==t){r.load(n,e,!0).append=t}return n},s=function(e){return void 0!==e&&null!=e&&"Object"===e.constructor.name},a=function(e){for(let t=1;t<arguments.length;t++){const n=arguments[t];Object.getOwnPropertyNames(n).forEach(t=>{s(e[t])?a(e[t],n[t]):e[t]=n[t]})}return e},o=function(){const[e,t,{deep:n=!1,recursive:r=!0,parents:i=[]}={}]=arguments,s={};for(let a in e){const c=e[a],u=t(a,c,e);if(!u||n&&null!=c){if(u&&n){"object"!==typeof c||c instanceof Array||c instanceof Map||c instanceof Set||c instanceof RegExp||i.includes[c]||c==e?s[a]=c:s[a]=o(c,t,{deep:n,recursive:r,parents:i.concat(e)})}}else s[a]=c}return s},c=(e,t,n)=>{Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!1})},u=(e,t,n)=>{Object.defineProperty(e,t,{get:n,configurable:!1,enumerable:!1})},l=(e,t,n,r)=>{Object.defineProperty(e,t,{get:n,set:r,configurable:!1,enumerable:!1})};t.default={isPojo:s,append:i,merge:a,filter:o,buildPropertyFilter:function({names:e,allowed:t}){return(n,r,i)=>e.includes(n)===t},defValue:c,defGet:u,defGetSet:l}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(14);class i{constructor(e,t){this.key=e,this.context=t}get keyDefined(){return this.key in this.context}get hasValue(){return!!this.context[this.key]}get value(){return this.context[this.key]}set value(e){this.context[this.key]=e}set append(e){if(this.hasValue){const t=this.value;t instanceof Array?t.push(e):this.value=[this.value,e]}else this.value=e}remove(){delete this.context[this.key]}static load(e,t,n=!0){let r=e;const s=t.split(".");let a=s.shift().trim();for(;s.length>0;){if(!r[a]){if(!n)return null;r[a]={}}r=r[a],a=s.shift().trim()}return new i(a,r)}}const s=function(e){return void 0!==e&&null!=e&&"Object"===e.constructor.name},a=function(e){for(let t=1;t<arguments.length;t++){const n=arguments[t];Object.getOwnPropertyNames(n).forEach(t=>{s(e[t])?a(e[t],n[t]):e[t]=n[t]})}return e},o=function(){const[e,t,{deep:n=!1,recursive:r=!0,parents:i=[]}={}]=arguments,s={};for(name in e){const a=e[name],c=t(name,a,e);if(!c||n&&null!=a){if(c&&n){"object"!==typeof a||a instanceof Array||a instanceof Map||a instanceof Set||a instanceof RegExp||i.includes[a]||a==e?s[name]=a:s[name]=o(a,t,{deep:n,recursive:r,parents:i.concat(e)})}}else s[name]=a}return s};var c={isPojo:s,append:function(e,t,n){if(void 0!==t){i.load(n,e,!0).append=t}return n},merge:a,filter:o,buildPropertyFilter:function({names:e,allowed:t}){return(n,r,i)=>e.includes(n)===t}};class u{constructor(e){this.hasValue=1==arguments.length,this.value=e}}class l{constructor(e,t){this.data=e,this.resolver=t,this.cache=new Map}updateData(e){this.data=e,this.cache=new Map}resetCache(){this.cache=new Map}getPropertyDef(e,t=!0){if(this.cache.has(e))return this.cache.get(e);let n=null;if(this.data&&e in this.data)n={data:this.data,resolver:this.resolver,defined:!0};else{if(!t)return null;n=((e,t)=>{for(;e;){const n=e.proxy.handle.getPropertyDef(t,!1);if(n)return n;e=e.parent}return{data:null,resolver:null,defined:!1}})(this.resolver.parent,e)}return n.defined&&this.cache.set(e,n),n}hasProperty(e){const{defined:t}=this.getPropertyDef(e);return t}getProperty(e){const{data:t}=this.getPropertyDef(e);return t?t[e]:void 0}setProperty(e,t){const{data:n,defined:r}=this.getPropertyDef(e);r?n[e]=t:(this.data||(this.data={}),this.data[e]=t,this.cache.set(e,{data:this.data,resolver:this.resolver,defined:!0}))}deleteProperty(e){throw new Error("unsupported function!")}}class h{constructor(e,t){this.handle=new l(e,t),this.data=new Proxy(this.handle,{has:function(e,t){return e.hasProperty(t)},get:function(e,t){return e.getProperty(t)},set:function(e,t,n){return e.setProperty(t,n)},deleteProperty:function(e,t){return e.deleteProperty(t)}})}updateData(e){this.handle.updateData(e)}resetCache(){this.handle.resetCache()}}const f=/(\\?)(\$\{(([a-zA-Z0-9\-_\s]+)::)?([^\{\}]+)\})/,d=new u,p=e=>e instanceof u?e:new u(e),y=async function(e,t,n,r){if(n&&e.name!=n)return e.parent?y(e.parent,t,n,r):null;const i=await async function(e,t){if("string"!=typeof e)return e;const n=new Function("context",`\nreturn (async (context) => {\n\ttry{ \n\t\twith(context){\n\t\t\t return ${e}\n\t\t}\n\t}catch(e){\n\t\tthrow e;\n\t}\n})(context)`);let r=setTimeout(()=>{r=null,console.warn("long running statement:",e,new Error)},1e3),i=void 0;try{i=await n(t)}catch(e){}return r&&clearTimeout(r),i}(t,e.proxy.data);return null!=i?i:r instanceof u&&r.hasValue?r.value:void 0},m=async(e,t,n)=>t[1]?t[2]:y(e,t[5],v(t[4]),n),v=e=>e?0==(e=e.trim()).length?null:e:null;class g{constructor({context:e=r.default,parent:t=null,name:n=null}){this.parent=t instanceof g?t:null,this.name=n,this.context=e,this.proxy=new h(this.context,this)}get chain(){return this.parent?this.parent.chain+"/"+this.name:"/"+this.name}get effectiveChain(){return this.context?this.parent?this.parent.effectiveChain+"/"+this.name:"/"+this.name:this.parent?this.parent.effectiveChain:""}get contextChain(){const e=[];let t=this;for(;t;)t.context&&e.push(t.context),t=t.parent;return e}getData(e,t){if(e){if(!t||t==this.name){const t=i.load(this.context,e,!1);return t?t.value:null}this.parent&&this.parent.getData(e,t)}}updateData(e,t,n){if(e)if(n&&n!=this.name)this.parent&&this.parent.updateData(e,t,n);else{null!=this.context&&void 0!==this.context||(this.context={},this.proxy.updateData(this.context));i.load(this.context,e).value=t,this.proxy.resetCache()}}mergeContext(e,t){t&&t!=this.name?this.parent&&this.parent.mergeContext(e,t):this.context=this.context?c.merge(this.context,e):e}async resolve(e,t){const n=2==arguments.length?p(t):d;try{const t=f.exec(e);return t?await m(this,t,n):await y(this,v(e),null,n)}catch(t){return console.error('error at executing statment"',e,'":',t),n.hasValue?n.value:e}}async resolveText(e,t){let n=e,r=e,i=f.exec(n);const s=2==arguments.length?p(t):d;for(;null!=i;){const e=await m(this,i,s);r=r.split(i[0]).join(),n=n.split(i[0]).join(void 0===e?"undefined":null==e?"null":e),i=f.exec(r)}return n}static async resolve(e,t,n,r){const i=new g({context:t}),s=arguments.length>2?p(n):d;return"number"==typeof r&&r>0?new Promise(t=>{setTimeout(()=>{t(i.resolve(e,s))},r)}):i.resolve(e,s)}static async resolveText(e,t,n,r){const i=new g({context:t}),s=arguments.length>2?p(n):d;return"number"==typeof r&&r>0?new Promise(t=>{setTimeout(()=>{t(i.resolveText(e,s))},r)}):i.resolveText(e,s)}static buildSecure({context:e,propFilter:t,option:n={deep:!0},name:r,parent:i}){return e=c.filter({data:e,propFilter:t,option:n}),new g({context:e,name:r,parent:i})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"privateProperty",(function(){return s}));const r=new WeakMap,i=e=>{if(r.has(e))return r.get(e);const t={};return r.set(e,t),t},s=function(e,t,n){const r=i(e);if(1===arguments.length)return r;if(2===arguments.length)return r[t];if(3!==arguments.length)throw new Error("Not allowed size of arguments!");r[t]=n};t.default={privateProperty:s}},,function(e,t,n){"use strict";n.r(t),n.d(t,"componentPrefix",(function(){return r})),n.d(t,"attributeChangeEventPrefix",(function(){return i})),n.d(t,"initTimeout",(function(){return s})),n.d(t,"triggerTimeout",(function(){return a}));const r="d-",i="attribute-",s=100,a=100},function(e,t,n){"use strict";n.r(t),n.d(t,"componentEventname",(function(){return i})),n.d(t,"attributeChangeEventname",(function(){return s}));var r=n(4);const i=(e,t)=>{let n="unsupported";if("string"==typeof t)n=t;else if(t instanceof HTMLElement)n=t.nodeName;else{if("string"!=typeof t.NODENAME)throw new Error(typeof t+" is not supported as pram node!");n=t.NODENAME}return`${n.toLowerCase()}- ${e}`},s=(e,t)=>i(r.attributeChangeEventPrefix+"-"+e,t);t.default={componentEventname:i,attributeChangeEventname:s}},function(e,t,n){"use strict";n.r(t),n.d(t,"toNodeName",(function(){return i})),n.d(t,"define",(function(){return s}));var r=n(4);const i=(e,t)=>"string"==typeof t?t+e:r.componentPrefix+e,s=function(e,t){const n=e.NODENAME;customElements.get(n)||customElements.define(n,e,t)};t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"timeoutPromise",(function(){return i})),n.d(t,"lazyPromise",(function(){return s}));var r=n(0);const i=(e,t)=>{let n=!1,i=null;const s=new Promise((n,r)=>{i=setTimeout(()=>{i=null,e(n,r)},t)}),a=s.then;return s.then=e=>{a.call(s,t=>{if(!(void 0).canceled)return e(t)})},Object(r.defValue)(s,"cancel",()=>{i&&(clearTimeout(i),n=!0)}),Object(r.defGet)(s,canceld,()=>n),s},s=()=>{let e=null,t=null;const n=new Promise((n,r)=>{e=n,t=r});let i=!1,s=!1,a=void 0;return Object(r.defValue)(n,"resolve",n=>{a=n,i=!0,a instanceof Error?(s=!0,t(a)):e(a)}),Object(r.defGet)(n,"value",()=>a),Object(r.defGet)(n,"error",()=>s),Object(r.defGet)(n,"resolved",()=>i),n};t.default={lazyPromise:s,timeoutPromise:i}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(7),s=n(4),a=n(5);const o=new(n(10).default);class c extends HTMLElement{constructor({shadowRoot:e=!1,content:t=null}={}){super(),Object(r.defValue)(this,"ready",Object(i.lazyPromise)()),e&&this.attachShadow({mode:open}),t&&this.root.append("function"==typeof t?t(this):t)}get root(){return this.shadowRoot||this}async init(){}connectedCallback(){this.ownerDocument==document&&(e=>{const t=o.data(e);t.initialize&&clearTimeout(t.initialize),t.initialize=setTimeout(async()=>{delete t.initialize,await e.init(),e.ready.resolve(),e.trigger(Object(a.componentEventname)("initialzed",e))},s.initTimeout)})(this)}adoptedCallback(){this.connectedCallback()}attributeChangedCallback(e,t,n){t!=n&&this.isConnected&&(this.trigger(s.triggerTimeout,Object(a.attributeChangeEventname)(e,this)),this.trigger(s.triggerTimeout,Object(a.componentEventname)("change",this)))}}t.default=c},,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));class r{constructor(){this.weakmap=new WeakMap}data(e){let t=this.weakmap.get(e);return t||(t={},this.weakmap.set(e,t)),t}value(e,t,n){if(2==arguments.length)return this.data(e)[t];this.data(e)[t]=n}}},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e){const n=void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{};t.default=n}.call(this,n(13))},function(e,t,n){"use strict";n.r(t);var r=n(2),i=n(6),s=n(8);const a=Object(i.toNodeName)("json-data");class o extends s.default{static get NODENAME(){return a}constructor(){super(),this.style.display="none !important";const e=new MutationObserver(()=>{this.reinit()});e.observe(this,{childList:!0,characterData:!0}),Object(r.privateProperty)(this,"observer",e),Object(r.privateProperty)(this,"json",null)}async init(){}async reinit(){Object(r.privateProperty)(this,"json",null)}get json(){return(async()=>{await this.ready;let e=Object(r.privateProperty)(this,"json");return e||(e=JSON.parse(this.textContent.trim()),Object(r.privateProperty)(this,"json",e)),e})()}}Object(i.define)(o),t.default=Request},,,function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(15),s=n(1);const a=async(e,t,n,r)=>{const i=new URL(await s.default.resolveText(t,e,t),location.href);if(n){i.searchParams||(i.searchParams=new URLSearchParams);const t=i.searchParams;for(let r in n){const i=n[r];if("string"==typeof i)t.append(r,await s.default.resolveText(i,e,i));else if(i instanceof Array)for(let n of i)"string"==typeof n&&t.append(r,await s.default.resolveText(n,e,n))}}return r&&(i.hash=r),i},o=async(e,t)=>t&&"string"==typeof t?s.default.resolveText(t,e,t):"get",c=async(e,t)=>{const n=new Headers;if(t)for(let r in t){const i=t[r];if("string"==typeof i)n.append(r,await s.default.resolveText(i,e,i));else if(i instanceof Array)for(let t of i)"string"==typeof t&&n.append(r,await s.default.resolveText(t,e,t))}return n},u=async(e,t)=>t&&"string"==typeof t?s.default.resolveText(t,e,t):t;var l=class{constructor({url:e,method:t="get",search:n,hash:r,headers:i,body:s,credentials:a,mode:o,cache:c,redirect:u,referrer:l,referrerPolicy:h}){this.url=e,this.method=t,this.search=n,this.hash=r,this.headers=i,this.body=s,this.credentials=a,this.mode=o,this.cache=c,this.redirect=u,this.referrer=l,this.referrerPolicy=h}async buildRequest({context:e}){return{url:await a(e,this.url,this.search,this.hash),method:await o(e,this.method),headers:await c(e,this.headers),body:await u(e,this.body),credentials:await s.default.resolveText(this.credentials,e,this.credentials),mode:await s.default.resolveText(this.mode,e,this.mode),cache:await s.default.resolveText(this.cache,e,this.cache),redirect:await s.default.resolveText(this.redirect,e,this.redirect),referrer:await s.default.resolveText(this.referrer,e,this.referrer),referrerPolicy:await s.default.resolveText(this.referrerPolicy,e,this.referrerPolicy)}}async execute({context:e}){const{url:t,method:n,headers:r,body:i,credentials:s,mode:a,cache:o,redirect:c,referrer:u,referrerPolicy:l}=await this.buildRequest({context:e});return fetch(t.toString(),{method:n,headers:r,body:i,credentials:s,mode:a,cache:o,redirect:c,referrer:u,referrerPolicy:l})}};const h=Object(r.toNodeName)("request");class f extends i.default{static get NODENAME(){return h}constructor(){super(),this.style.display="none !important"}async reinit(){delete this.__json__,delete this.__requester__}get request(){return this.json}get requester(){return this.__requester__&&(this.__requester__=new l(this.request)),this.__requester__}async execute(e){return this.requester.execute({context:e})}}Object(r.define)(f);t.default=f}]);
//# sourceMappingURL=request.min.js.map